<!DOCTYPE html>
<html lang="en">
    <%- include("partials/header")-%>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/css/style.css">
    <!-- <link rel="stylesheet" href="/css/userHomePage.css"> -->
    <link rel="icon" type="image/x-icon" href="/favicon/favicon.ico">
    <style>
        /*Inspo from
 https://get.foundation/building-blocks/blocks/dashboard-number-card.html 
 
 https://get.foundation/building-blocks/blocks/alert-callout-border.html
 
 */

        .dashboard-number-card {
            background: #fff;
            border-radius: 5px;
            margin: 0 20px 20px;
            position: relative;
            max-width: 400px;
            max-height: 150px;
        }

        .dashboard-number-card .dashboard-number-delta {
            -webkit-align-items: baseline;
            -ms-flex-align: baseline;
            align-items: baseline;
            bottom: 6px;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            font-size: 12px;
            font-weight: 500;
            margin-bottom: 0;
            opacity: 0.7;
            position: absolute;
            right: 6px;
            color: #1779ba;
        }

        .dashboard-number-card .dashboard-number-delta i {
            margin-right: 5px;
            width: 0.6rem;
        }

        .dashboard-number-card.positive .dashboard-number-delta,
        .dashboard-number-card.negative .dashboard-number-delta {
            color: #fefefe;
        }

        .dashboard-number-card.positive .dashboard-number-value,
        .dashboard-number-card.positive .dashboard-number-area,
        .dashboard-number-card.negative .dashboard-number-value,
        .dashboard-number-card.negative .dashboard-number-area {
            color: black;
        }

        .dashboard-number-card.positive .dashboard-number-area,
        .dashboard-number-card.negative .dashboard-number-area {
            opacity: 0.6;
        }

        .dashboard-number-card.positive {
            background: #3adb76;
        }

        .dashboard-number-card.negative {
            background: #cc4b37;
        }

        .dashboard-number-value {
            color: #1779ba;
            font-size: 22px;
            font-weight: 800;
            padding: 1rem 2rem 1.75rem;
            text-align: center;
        }

        .dashboard-number-area {
            bottom: 6px;
            color: #1779ba;
            font-size: 12px;
            left: 6px;
            margin-bottom: 0;
            position: absolute;
        }
    </style>
    <title>Flat App</title>

</head>

<body>
    <!-- Stuff for animation -->
    <!-- <div>
      <div style="width:80px; height:15px; position: absolute; right:10px; top:20px; background-color: aliceblue; border-radius: 25px;"></div>
      <div style="width:80px; height:15px; position: absolute; right:10px; top:45px; background-color: aliceblue; border-radius: 25px;"></div>
      <div style="width:80px; height:15px; position: absolute; right:10px; top:70px; background-color: aliceblue; border-radius: 25px;"></div>
  </div> -->

    <div class="area">
        <ul class="circles">
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>


    </div>

    <!-- Top Navigation -->
    <div
        style="background-color: rgba(255, 255, 255, 0.42); width: 100vw; height: 8vh; position: absolute; top: 0px; left:0px;">
        <img src="/images/flat_app.png" style="position: absolute; top:-60px; width: 300px;">

        <div class="userHomePageTitle"
            style="text-align: center; margin-top:15px; font-family: Roboto, sans-serif; font-weight: 200;">
            <h1>Welcome <%= user.name %>
            </h1>
        </div>


        <a href="/logout">
            <button style="position: absolute; right: 2vw; top: 12.5px;" class="btn">Logout <img
                    src="https://i.imgur.com/DMrnU5d.png"
                    style="width:20px; margin-left:0px; margin-right:6px; flex-direction: row-reverse;"></button>
        </a>




        <main class="infoBox" style=" margin-left:200px; margin-top:200px; z-index: 1000;">
            <div class="viewGroupButtonAndWrappers" style:>
                <!-- <a href="" class="cs-button-2" aria-label="View your group and tasks">View Group</a> -->
                <!-- <button class="btn" id ="btnViewGroup">
                    View Group
                  </button> -->
         
                <a href="/createGroup">
                    <button  class="btn">Create Group <img
                            src="https://i.imgur.com/DMrnU5d.png"
                            style="width:20px; margin-left:0px; margin-right:6px; flex-direction: row-reverse;"></button>
                </a>
                <a href="/joinGroup">
                    <button  class="btn">Join Group <img
                            src="https://i.imgur.com/DMrnU5d.png"
                            style="width:20px; margin-left:0px; margin-right:6px; flex-direction: row-reverse;"></button>
                </a>

            </div>

            <div class="wrapperForGroupsAndTasks" style="
             display: grid; 
             grid-template-columns: auto auto;
            gap: 50px;">
                <section id="groupOverview" style="display: grid;
                grid-template-rows: auto auto;
                gap: 50px;
                margin-left: 50px;
                margin-right: 50px;

                
                ">
                    <% for (let i=0; i < group.length; i++) { %>
                        <%- include('partials/groupCard', { groupCard: group[i]}) %>
                            <% } %>

                                <% if (group.length==0) { %>
                                    <div class="noGroup">
                                        <h1> You are not in any group yet. </h1>
                                        <h2> Create a group or join a group to start using Flat App! </h2>
                                    </div>
                                    <% } %>
                </section>

                <section id="myTaskBox">

                    <div class="taskBox">
                        <h1 style="align-content: center;">My Tasks</h1>
                        <div class="taskList">
                            <% for (let j=0; j < tasks.length; j++) { %>
                                <%- include('partials/task', { task: tasks[j]}) %>
                                    <% } %>

                                        <% if (tasks.length==0) { %>
                                            <div class="noTask">
                                                <h1> You have no task yet. </h1>
                                                <h2> Create a task to start using Flat App! </h2>
                                            </div>
                                            <% } %>
                        </div>
                    </div>




                </section>

            </div>
        </main>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

    <script>


    </script>


    <% if (isAdded) { %>
        <script>
            Swal.fire(
                'Log in Succesful!',
                'Welcome to Flat App',
                'success'
            )

        </script>

        <% isAdded=false;} %>



</body>

</html>